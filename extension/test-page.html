<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindFlow Test Page - Clinical Note Entry</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f8fafc;
            padding: 40px 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #1f2937;
            margin-bottom: 10px;
            font-size: 32px;
        }

        .subtitle {
            text-align: center;
            color: #6b7280;
            margin-bottom: 40px;
            font-size: 18px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .form-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e5e7eb;
        }

        .form-section h2 {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 20px;
            border-bottom: 2px solid #6B46C1;
            padding-bottom: 8px;
        }

        .field-group {
            margin-bottom: 20px;
        }

        .field-group label {
            display: block;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .field-group input,
        .field-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        .field-group textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
            background: white;
        }

        .field-group textarea:focus,
        .field-group input:focus,
        .field-group select:focus {
            outline: none;
            border-color: #6B46C1;
            box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);
        }

        .progress-note-section {
            grid-column: 1 / -1;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e5e7eb;
        }

        .progress-note-section h2 {
            font-size: 24px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #6B46C1;
            padding-bottom: 12px;
        }

        .note-textarea {
            width: 100%;
            min-height: 200px;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            line-height: 1.6;
            resize: vertical;
            background: white;
        }

        .note-textarea::placeholder {
            color: #9ca3af;
            font-style: italic;
        }

        .instructions {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .instructions h3 {
            color: #0c4a6e;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .instructions ul {
            color: #075985;
            font-size: 14px;
            margin-left: 20px;
        }

        .instructions li {
            margin-bottom: 4px;
        }

        .test-cases {
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
        }

        .test-cases h4 {
            color: #374151;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .test-case {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 8px;
            border: 1px solid #e5e7eb;
            cursor: pointer;
            transition: background 150ms;
        }

        .test-case:hover {
            background: #f3f4f6;
        }

        .test-case strong {
            color: #6B46C1;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .test-case p {
            margin-top: 4px;
            font-size: 13px;
            color: #4b5563;
            font-style: italic;
        }

        .buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 150ms;
        }

        .btn-primary {
            background: #6B46C1;
            color: white;
        }

        .btn-primary:hover {
            background: #553C9A;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ MindFlow Test Environment</h1>
        <p class="subtitle">Clinical Progress Note Enhancement Demo</p>

        <div class="instructions">
            <h3>üöÄ How to Test MindFlow:</h3>
            <ul>
                <li><strong>Install the extension</strong> and make sure it's enabled</li>
                <li><strong>Look for the small purple dot (‚óè)</strong> in the top-right corner of the progress note textarea below</li>
                <li><strong>Hover over the dot</strong> to see the MindFlow toolbar with üé§ and ‚ú® buttons</li>
                <li><strong>Click the microphone (üé§)</strong> to record voice notes (simulated transcription)</li>
                <li><strong>Click the sparkle (‚ú®)</strong> to enhance existing text into 245G format</li>
                <li><strong>Try the test cases below</strong> by clicking them to auto-fill</li>
            </ul>
            <div style="background: #fef3c7; border: 1px solid #f59e0b; padding: 12px; border-radius: 6px; margin-top: 12px;">
                <strong>üëÄ Look for the purple dot!</strong> If you don't see it, try refreshing the page or reloading the extension.
            </div>
        </div>

        <div class="form-grid">
            <!-- Client Information -->
            <div class="form-section">
                <h2>Client Information</h2>
                <div class="field-group">
                    <label for="clientName">Client Name:</label>
                    <input type="text" id="clientName" placeholder="John D.">
                </div>
                <div class="field-group">
                    <label for="sessionDate">Session Date:</label>
                    <input type="date" id="sessionDate">
                </div>
                <div class="field-group">
                    <label for="sessionType">Session Type:</label>
                    <select id="sessionType">
                        <option>Individual Counseling</option>
                        <option>Group Therapy</option>
                        <option>Family Therapy</option>
                        <option>Crisis Intervention</option>
                    </select>
                </div>
                <div class="field-group">
                    <label for="duration">Duration (minutes):</label>
                    <input type="number" id="duration" value="50" min="15" max="120">
                </div>
            </div>

            <!-- Session Context -->
            <div class="form-section">
                <h2>Session Context</h2>
                <div class="field-group">
                    <label for="location">Location:</label>
                    <select id="location">
                        <option>In-Person</option>
                        <option>Telehealth</option>
                        <option>Phone</option>
                        <option>Home Visit</option>
                    </select>
                </div>
                <div class="field-group">
                    <label for="asamLevel">ASAM Level:</label>
                    <select id="asamLevel">
                        <option>1.0 Outpatient</option>
                        <option>2.1 Intensive Outpatient</option>
                        <option>2.5 Partial Hospitalization</option>
                        <option>3.1 Residential</option>
                    </select>
                </div>
                <div class="field-group">
                    <label for="quickNotes">Quick Notes:</label>
                    <textarea id="quickNotes" placeholder="Jot down quick observations, mood, engagement level, etc."></textarea>
                </div>
            </div>

            <!-- Main Progress Note -->
            <div class="progress-note-section">
                <h2>üìù Progress Note (Minnesota 245G Compliant)</h2>
                <textarea 
                    id="progressNote" 
                    class="note-textarea" 
                    placeholder="Start typing your progress note here, or use voice recording...

Example: 'Client seemed anxious today, about 7 out of 10. Been clean for 30 days. We worked on breathing exercises. Gave homework to write down triggers. See him next week.'

MindFlow will automatically enhance this into a professional 245G-compliant format with all required sections: Service Provided, Client Response, Interventions, Progress, and Plan."></textarea>

                <div class="test-cases">
                    <h4>üìã Test Cases - Click to Try:</h4>
                    
                    <div class="test-case" onclick="loadTestCase(1)">
                        <strong>Test 1: Basic Anxiety Session</strong>
                        <p>Client anxious, 30 days clean, breathing exercises, trigger homework</p>
                    </div>
                    
                    <div class="test-case" onclick="loadTestCase(2)">
                        <strong>Test 2: Depression Session</strong>
                        <p>Client depressed, job loss discussion, cognitive restructuring</p>
                    </div>
                    
                    <div class="test-case" onclick="loadTestCase(3)">
                        <strong>Test 3: Good Progress</strong>
                        <p>Client doing great, 60 days clean, coping skills review</p>
                    </div>
                    
                    <div class="test-case" onclick="loadTestCase(4)">
                        <strong>Test 4: Relapse Session</strong>
                        <p>Client relapsed, safety planning, increased support</p>
                    </div>
                    
                    <div class="test-case" onclick="loadTestCase(5)">
                        <strong>Test 5: Family Session</strong>
                        <p>Family therapy, trust issues, communication skills</p>
                    </div>
                </div>

                <div class="buttons">
                    <button class="btn btn-secondary" onclick="clearNote()">Clear</button>
                    <button class="btn btn-primary" onclick="simulateSave()">Save Note</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Set today's date
        document.getElementById('sessionDate').value = new Date().toISOString().split('T')[0];

        // Test cases from the documentation
        const testCases = {
            1: "Client was anxious, about 7 out of 10, been clean 30 days. We worked on breathing. Gave homework to write down triggers. See him next week.",
            2: "She seemed really depressed today, mood was like a 4. She's been sober for 30 days which is great. We talked about her job loss and how it's affecting her self-worth. Did some cognitive restructuring around her negative thoughts. She identified three negative thoughts and we challenged them. She's going to journal every morning and agreed to apply for two jobs this week.",
            3: "Client doing great, 60 days clean, good mood. Went to all his meetings. We reviewed his coping skills. He's been using them. Continue same plan.",
            4: "Client relapsed, used yesterday. Very upset about it. We talked about what happened and made a safety plan. Needs to call sponsor daily. See tomorrow.",
            5: "Had family session with Tom and his wife Mary. She's frustrated about trust issues. Tom has 60 days clean and wants more freedom. We talked about rebuilding trust slowly and Mary expressed her fears about relapse. Set up some agreements about checking in and Tom agreed to continue transparency about his whereabouts. Mary will start going to Al-Anon."
        };

        function loadTestCase(caseNumber) {
            const textarea = document.getElementById('progressNote');
            textarea.value = testCases[caseNumber];
            textarea.focus();
            
            // Trigger input event to notify MindFlow
            textarea.dispatchEvent(new Event('input', { bubbles: true }));
        }

        function clearNote() {
            document.getElementById('progressNote').value = '';
        }

        function simulateSave() {
            const note = document.getElementById('progressNote').value;
            if (note.trim()) {
                alert('Note saved! In a real system, this would save to your EHR system.');
            } else {
                alert('Please enter a note first.');
            }
        }

        // Add some visual feedback
        document.getElementById('progressNote').addEventListener('input', function() {
            // This would normally trigger MindFlow processing
            console.log('Note content changed:', this.value.length, 'characters');
        });
    </script>
</body>
</html>